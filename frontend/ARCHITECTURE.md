# å‰ç«¯æ¶æ„æ¦‚è§ˆ

## ğŸ“ æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CrossWire Frontend                    â”‚
â”‚                  Vue 3 + Vite + Ant Design Vue              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚ Views  â”‚           â”‚Compone â”‚           â”‚ Stores â”‚
    â”‚  å±‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  nts   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  å±‚    â”‚
    â”‚(5ä¸ª)   â”‚           â”‚  å±‚    â”‚           â”‚ (6ä¸ª)  â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â”‚(17ä¸ª)  â”‚           â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚                â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜               â”‚
        â”‚                    â”‚                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Wails API å±‚   â”‚
                    â”‚   (Go Backend)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„æ ‘

```
frontend/src/
â”‚
â”œâ”€â”€ ğŸ“„ main.js                 # åº”ç”¨å…¥å£
â”œâ”€â”€ ğŸ“„ App.vue                 # æ ¹ç»„ä»¶
â”‚
â”œâ”€â”€ ğŸ“‚ views/                  # é¡µé¢ç»„ä»¶ (5)
â”‚   â”œâ”€â”€ HomeView.vue          # âœ… é¦–é¡µ - æ¨¡å¼é€‰æ‹©
â”‚   â”œâ”€â”€ ServerView.vue        # âœ… æœåŠ¡ç«¯é…ç½®
â”‚   â”œâ”€â”€ ClientView.vue        # âœ… å®¢æˆ·ç«¯åŠ å…¥
â”‚   â”œâ”€â”€ ChatView.vue          # âœ… èŠå¤©ä¸»ç•Œé¢
â”‚   â””â”€â”€ ChallengeView.vue     # âœ… é¢˜ç›®ç®¡ç†
â”‚
â”œâ”€â”€ ğŸ“‚ components/             # ç»„ä»¶åº“ (17)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ’¬ èŠå¤©ç»„ä»¶ (3)
â”‚   â”‚   â”œâ”€â”€ MessageList.vue    # âœ… æ¶ˆæ¯åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ MessageInput.vue   # âœ… æ¶ˆæ¯è¾“å…¥æ¡†
â”‚   â”‚   â””â”€â”€ MemberList.vue     # âœ… æˆå‘˜åˆ—è¡¨
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ› ï¸ å·¥å…·ç»„ä»¶ (2)
â”‚   â”‚   â”œâ”€â”€ FilePreview.vue    # âœ… æ–‡ä»¶é¢„è§ˆ
â”‚   â”‚   â””â”€â”€ CodeEditor.vue     # âœ… ä»£ç ç¼–è¾‘å™¨
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ† é¢˜ç›®ç®¡ç†ç»„ä»¶ (8)
â”‚       â””â”€â”€ Challenge/
â”‚           â”œâ”€â”€ ChallengeList.vue      # âœ… é¢˜ç›®åˆ—è¡¨
â”‚           â”œâ”€â”€ ChallengeCard.vue      # âœ… é¢˜ç›®å¡ç‰‡
â”‚           â”œâ”€â”€ ChallengeDetail.vue    # âœ… é¢˜ç›®è¯¦æƒ…
â”‚           â”œâ”€â”€ ChallengeCreate.vue    # âœ… åˆ›å»ºé¢˜ç›®
â”‚           â”œâ”€â”€ ChallengeAssign.vue    # âœ… é«˜çº§åˆ†é…
â”‚           â”œâ”€â”€ ChallengeProgress.vue  # âœ… è¿›åº¦å¯è§†åŒ–
â”‚           â”œâ”€â”€ ChallengeSubmit.vue    # âœ… æäº¤è¡¨å•
â”‚           â””â”€â”€ ChallengeRoom.vue      # âœ… é¢˜ç›®è®¨è®ºå®¤
â”‚
â”œâ”€â”€ ğŸ“‚ stores/                 # çŠ¶æ€ç®¡ç† (6)
â”‚   â”œâ”€â”€ app.js                # âœ… åº”ç”¨çŠ¶æ€ï¼ˆæ¨¡å¼ã€è¿æ¥ï¼‰
â”‚   â”œâ”€â”€ channel.js            # âœ… é¢‘é“çŠ¶æ€
â”‚   â”œâ”€â”€ message.js            # âœ… æ¶ˆæ¯çŠ¶æ€
â”‚   â”œâ”€â”€ member.js             # âœ… æˆå‘˜çŠ¶æ€
â”‚   â”œâ”€â”€ file.js               # âœ… æ–‡ä»¶çŠ¶æ€
â”‚   â””â”€â”€ challenge.js          # âœ… é¢˜ç›®çŠ¶æ€
â”‚
â”œâ”€â”€ ğŸ“‚ router/                 # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.js              # âœ… è·¯ç”±å®šä¹‰ (5æ¡)
â”‚
â”œâ”€â”€ ğŸ“‚ styles/                 # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ index.css             # âœ… å…¨å±€æ ·å¼
â”‚   â””â”€â”€ variables.css         # âœ… CSS å˜é‡
â”‚
â””â”€â”€ ğŸ“‚ assets/                 # é™æ€èµ„æº
    â”œâ”€â”€ images/
    â””â”€â”€ fonts/
```

---

## ğŸ”„ é¡µé¢æµè½¬å›¾

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  HomeView   â”‚ é¦–é¡µ
                    â”‚  (/)        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                 â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚ServerView  â”‚                   â”‚ClientView  â”‚
    â”‚(/server)   â”‚                   â”‚(/client)   â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                 â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                    â”‚  ChatView   â”‚ èŠå¤©ä¸»ç•Œé¢
                    â”‚  (/chat)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ChallengeView    â”‚ é¢˜ç›®ç®¡ç†
                    â”‚(/challenges)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© ç»„ä»¶ä¾èµ–å…³ç³»

### ChatView ç»„ä»¶æ ‘
```
ChatView
â”œâ”€â”€ MessageList           (æ¶ˆæ¯åŒºåŸŸ)
â”‚   â””â”€â”€ MessageList.vue
â”œâ”€â”€ MessageInput          (è¾“å…¥åŒºåŸŸ)
â”‚   â””â”€â”€ MessageInput.vue
â””â”€â”€ MemberList           (æˆå‘˜ä¾§è¾¹æ )
    â””â”€â”€ MemberList.vue
```

### ChallengeView ç»„ä»¶æ ‘
```
ChallengeView
â”œâ”€â”€ Sider
â”‚   â””â”€â”€ ChallengeList             (é¢˜ç›®åˆ—è¡¨ä¾§è¾¹æ )
â”‚       â””â”€â”€ ChallengeCard         (é¢˜ç›®å¡ç‰‡)
â”‚
â””â”€â”€ Content
    â”œâ”€â”€ ChallengeDetail           (é¢˜ç›®è¯¦æƒ…)
    â”‚   â”œâ”€â”€ ChallengeAssign       (åˆ†é…å¼¹çª—)
    â”‚   â”œâ”€â”€ ChallengeSubmit       (æäº¤å¼¹çª—)
    â”‚   â”œâ”€â”€ ChallengeProgress     (è¿›åº¦å¼¹çª—)
    â”‚   â””â”€â”€ ChallengeRoom         (è®¨è®ºå®¤æŠ½å±‰)
    â”‚
    â””â”€â”€ ChallengeCreate           (åˆ›å»ºå¼¹çª—)
```

---

## ğŸ“Š çŠ¶æ€ç®¡ç†æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Pinia Stores                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚            â”‚            â”‚            â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”   â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚  App   â”‚   â”‚Channel â”‚  â”‚Message â”‚  â”‚ Member  â”‚
    â”‚ Store  â”‚   â”‚ Store  â”‚  â”‚ Store  â”‚  â”‚ Store   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚            â”‚           â”‚           â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Vue Components  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Store èŒè´£åˆ’åˆ†

| Store | èŒè´£ | ä¸»è¦æ•°æ® |
|-------|------|---------|
| **appStore** | åº”ç”¨å…¨å±€çŠ¶æ€ | mode, connected, currentUser |
| **channelStore** | é¢‘é“ç®¡ç† | channels, currentChannel |
| **messageStore** | æ¶ˆæ¯ç®¡ç† | messages, pinnedMessages |
| **memberStore** | æˆå‘˜ç®¡ç† | members, onlineMembers |
| **fileStore** | æ–‡ä»¶ç®¡ç† | files, uploadProgress |
| **challengeStore** | é¢˜ç›®ç®¡ç† | challenges, assignments |

---

## ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ

### é¢œè‰²å˜é‡
```css
/* Ant Design æ ‡å‡†é…è‰² */
--primary-color: #1890ff      /* ä¸»é¢˜è“ */
--success-color: #52c41a      /* æˆåŠŸç»¿ */
--warning-color: #faad14      /* è­¦å‘Šæ©™ */
--error-color: #ff4d4f        /* é”™è¯¯çº¢ */

/* æ–‡æœ¬é¢œè‰² */
--text-primary: rgba(0,0,0,0.85)    /* ä¸»è¦æ–‡æœ¬ */
--text-secondary: rgba(0,0,0,0.65)  /* æ¬¡è¦æ–‡æœ¬ */
--text-tertiary: rgba(0,0,0,0.45)   /* è¾…åŠ©æ–‡æœ¬ */

/* èƒŒæ™¯é¢œè‰² */
--bg-primary: #ffffff         /* å¡ç‰‡ç™½ */
--bg-secondary: #fafafa       /* æµ…ç° */
--bg-tertiary: #f5f5f5        /* èƒŒæ™¯ç° */
```

### åœ†è§’è§„èŒƒ
```css
--border-radius-base: 2px     /* è¾“å…¥æ¡†ã€å°ç»„ä»¶ */
--border-radius-lg: 4px       /* å¡ç‰‡ã€æ°”æ³¡ */
```

---

## ğŸ”Œ API æ¥å£è§„èŒƒ

### Wails API è°ƒç”¨ç¤ºä¾‹
```javascript
// ä» stores ä¸­è°ƒç”¨
import { SendMessage } from '@/wailsjs/go/main/App'

export const messageStore = defineStore('message', {
  actions: {
    async sendMessage(content) {
      try {
        await SendMessage(content)
        // æ›´æ–°æœ¬åœ°çŠ¶æ€
        this.messages.push(...)
      } catch (error) {
        console.error('å‘é€å¤±è´¥', error)
      }
    }
  }
})
```

---

## ğŸ“¦ ç»„ä»¶ Props å’Œ Events

### MessageList
```typescript
Props: {
  messages: Array<Message>
}
Emits: {
  'pin': (messageId: string) => void
  'delete': (messageId: string) => void
}
```

### ChallengeCard
```typescript
Props: {
  challenge: Object<Challenge>
}
Emits: {
  'click': (challengeId: string) => void
}
```

### ChallengeAssign
```typescript
Props: {
  open: Boolean
  challenge: Object<Challenge>
}
Emits: {
  'update:open': (value: boolean) => void
  'assign': (data: AssignData) => void
}
```

---

## ğŸš€ æ•°æ®æµå‘

### æ¶ˆæ¯å‘é€æµç¨‹
```
1. ç”¨æˆ·è¾“å…¥ (MessageInput)
         â†“
2. è°ƒç”¨ messageStore.sendMessage()
         â†“
3. Wails API: SendMessage()
         â†“
4. Go Backend å¤„ç†
         â†“
5. å¹¿æ’­æ¶ˆæ¯
         â†“
6. å‰ç«¯æ¥æ”¶äº‹ä»¶
         â†“
7. messageStore æ›´æ–°
         â†“
8. MessageList è‡ªåŠ¨åˆ·æ–° (å“åº”å¼)
```

### é¢˜ç›®åˆ†é…æµç¨‹
```
1. ç‚¹å‡»"åˆ†é…é¢˜ç›®"æŒ‰é’® (ChallengeDetail)
         â†“
2. æ‰“å¼€ ChallengeAssign å¼¹çª—
         â†“
3. é€‰æ‹©æˆå‘˜ã€è®¾ç½®ä¼˜å…ˆçº§
         â†“
4. æäº¤åˆ†é… @assign äº‹ä»¶
         â†“
5. challengeStore.assignChallenge()
         â†“
6. Wails API: AssignChallenge()
         â†“
7. æ›´æ–°æœ¬åœ°çŠ¶æ€
         â†“
8. æ˜¾ç¤ºæˆåŠŸæç¤º
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ˜ å°„

| åŠŸèƒ½ | é¡µé¢/ç»„ä»¶ | Store | API |
|------|----------|-------|-----|
| åˆ›å»ºé¢‘é“ | ServerView | channelStore | CreateChannel |
| åŠ å…¥é¢‘é“ | ClientView | channelStore | JoinChannel |
| å‘é€æ¶ˆæ¯ | MessageInput | messageStore | SendMessage |
| ä¸Šä¼ æ–‡ä»¶ | MessageInput | fileStore | UploadFile |
| åˆ›å»ºé¢˜ç›® | ChallengeCreate | challengeStore | CreateChallenge |
| åˆ†é…é¢˜ç›® | ChallengeAssign | challengeStore | AssignChallenge |
| æäº¤Flag | ChallengeSubmit | challengeStore | SubmitFlag |
| æŸ¥çœ‹è¿›åº¦ | ChallengeProgress | challengeStore | GetProgress |
| é¢˜ç›®è®¨è®º | ChallengeRoom | messageStore | SendMessage |

---

## ğŸ“± å“åº”å¼è®¾è®¡

### å¸ƒå±€æ–­ç‚¹
```css
/* æ¡Œé¢ç«¯ä¼˜å…ˆ */
å¤§å±: > 1200px   (ä¸‰æ å¸ƒå±€)
ä¸­å±: 768-1200px (ä¸¤æ å¸ƒå±€)
å°å±: < 768px    (å•æ å¸ƒå±€ï¼ŒæŠ½å±‰ä¾§è¾¹æ )
```

### ç»„ä»¶è‡ªé€‚åº”
- **ChatView**: Drawer æ¨¡å¼æ˜¾ç¤ºæˆå‘˜åˆ—è¡¨
- **ChallengeView**: Drawer æ¨¡å¼æ˜¾ç¤ºé¢˜ç›®åˆ—è¡¨
- **ChallengeRoom**: å…¨å±æ¨¡å¼

---

## ğŸ”’ æƒé™æ§åˆ¶ï¼ˆé¢„ç•™ï¼‰

```javascript
// æƒé™æ£€æŸ¥ç¤ºä¾‹
const canAssignChallenge = computed(() => {
  return appStore.currentUser?.role === 'admin' || 
         appStore.currentUser?.role === 'leader'
})
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### å·²å®ç°
- âœ… ç»„ä»¶æ‡’åŠ è½½ï¼ˆè·¯ç”±çº§åˆ«ï¼‰
- âœ… è®¡ç®—å±æ€§ç¼“å­˜
- âœ… äº‹ä»¶å§”æ‰˜
- âœ… CSS å˜é‡å‡å°‘é‡å¤

### å¾…å®ç°
- [ ] è™šæ‹Ÿæ»šåŠ¨ï¼ˆæ¶ˆæ¯åˆ—è¡¨ã€é¢˜ç›®åˆ—è¡¨ï¼‰
- [ ] å›¾ç‰‡æ‡’åŠ è½½
- [ ] ä»£ç åˆ†å‰²
- [ ] Service Worker

---

## ğŸ§ª å¼€å‘å·¥å…·

### è°ƒè¯•å·¥å…·
```bash
# Vue DevTools
chrome://extensions/

# æ€§èƒ½åˆ†æ
npm run build -- --mode analyze
```

### ä»£ç è§„èŒƒ
```bash
# ESLint æ£€æŸ¥
npm run lint

# æ ¼å¼åŒ–
npm run format
```

---

## ğŸ“š æŠ€æœ¯æ–‡æ¡£ç´¢å¼•

1. **README.md** - é¡¹ç›®è¯´æ˜
2. **SETUP.md** - ç¯å¢ƒæ­å»º
3. **DESIGN.md** - è®¾è®¡è§„èŒƒ
4. **COMPONENTS.md** - ç»„ä»¶æ–‡æ¡£
5. **PROJECT_STATUS.md** - é¡¹ç›®çŠ¶æ€
6. **COMPLETE.md** - å®Œæˆæ€»ç»“
7. **ARCHITECTURE.md** - æ¶æ„æ–‡æ¡£ï¼ˆæœ¬æ–‡æ¡£ï¼‰

---

**æ›´æ–°æ—¶é—´**: 2025-10-05  
**æ¶æ„ç‰ˆæœ¬**: v1.0.0

